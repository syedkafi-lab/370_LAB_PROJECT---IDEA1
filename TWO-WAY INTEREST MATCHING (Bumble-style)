CREATE TABLE interest_match (
    match_id INT AUTO_INCREMENT PRIMARY KEY,
    student_id INT NOT NULL,
    job_id INT NOT NULL,

    student_interested BOOLEAN DEFAULT FALSE,
    recruiter_interested BOOLEAN DEFAULT FALSE,
    is_matched BOOLEAN DEFAULT FALSE,

    student_liked_at TIMESTAMP NULL DEFAULT NULL,
    recruiter_liked_at TIMESTAMP NULL DEFAULT NULL,
    matched_at TIMESTAMP NULL DEFAULT NULL,

    chat_enabled BOOLEAN DEFAULT FALSE,

    FOREIGN KEY (student_id) REFERENCES students(student_id)
        ON DELETE CASCADE,
    FOREIGN KEY (job_id) REFERENCES job_postings(job_id)
        ON DELETE CASCADE,

    UNIQUE (student_id, job_id)
);
